@panelBorder    : rgba(68, 68, 68, 0.4) 1px solid;
@mainPanelColor : rgba(31, 31, 31, 0.6);

#app {

    &:not(.modular-fs) {
        .app-drawer {
            border-radius: 0px;
            bottom       : 0;
            right        : 0;
            top          : calc(var(--chromeHeight1) /2);
            height       : calc(100% - var(--chromeHeight1)) !important;
            box-shadow   : unset;
            border-top   : @panelBorder;
            border-bottom: @panelBorder;
            border-left  : @panelBorder;
            background   : @mainPanelColor;
            margin-right : 0px;
            position     : relative;

            .lyric-body{
                margin-top: -50px;
                padding-block-start: 121px;
                padding-block-end: 950px;
                margin-left: -5px;
                margin-right: -5px;
            }
            .lyric-line {
                margin-block-start: 10px;
                filter: blur(1.5px) opacity(0.4);

                &:not(.active) {
                    transform: scale(0.9);
                    transition: transform 0.5s ease-out;
                    padding-block-start: 11px;
                    padding-block-end: 13px;
                }

                &.active {
                    transform       : scale(1);
                    filter:blur(0px) opacity(1.5);
                    transform-origin: left bottom;
                    transition      : all 0.5s var(--appleEase), transform 0.5s ease-out;
                    padding-block: 8px;
                }
            }
        }

        .drawertransition-enter-active,
        .drawertransition-leave-active {
            transition: margin .25s var(--appleEase), opacity .25s var(--appleEase);
        }

        .drawertransition-enter,
        .drawertransition-leave-to {
            margin-right: -300px;
        }
    }
}

#app.twopanel #app-main{
    &:not(.modular-fs) {
        .app-drawer {
            margin-top: -90px;
            height       : calc(100% - (var(--chromeHeight1)* 1) - var(--chromeHeight2) * 1) !important;
            border-top   : none;
            border-bottom: none;
            border-left  : none;
        }
    }
}

.fullscreen-view-container{
    .fullscreen-view{
        .lyrics-col{
            width:100%;
            margin-top: 120px;
            .lyric-body{
                width:100%;
                padding-block-start: 100px;
                padding-block-end: 500px;
            }
        }
        .lyric-line{
            font-size: 50px;
            margin-right: 20px;
            margin-left: 20px;
            margin-block-start: 30px;

            &:not(.active) {
                transform: scale(1);
                filter: blur(0.5px) opacity(0.4);
                padding-block-start: 10px;
                padding-block-end: 20px;
            }
            
            &.active{
                transform: scale(1);
                filter: none;
                transition: all 0.5s var(--appleEase);
                padding-block: 10px;
            }
        }
    }
}


.fullscreen-view .artwork-col .app-playback-controls{
    .playback-info{
        .song-progress {
            bottom  : 40px;
            //right   : 1px;
            //left    : 2.5px;
            z-index : 30;
            overflow: hidden;

            input[type="range"] {
                width: 500px;
                border-radius: 5px;
                &::-webkit-slider-thumb {
                    border-radius: 3px;
                    width        : 6px;
                    height       : 14px;
                    border       : rgb(120, 120, 120) solid 1px;
                    background   : #b8b8b8;
                    margin-top   : -4px;
                }
                &::-webkit-slider-runnable-track {
                    background-color: rgba(190, 190, 190, 0.2);
                    height: 5px;
                    border-radius: 3px;
                }
            }
            .song-duration {
                opacity: 0.8;
                margin-left : 18px;
                margin-right: 22px;
                margin-bottom: 6px;
            }
        }
    }
}


.fullscreen-view .artwork-col .app-playback-controls .playback-info{
    background-color: unset;
    top: 60px;
}

.fullscreen-view .artwork-col .app-playback-controls .song-artist{
    font-size: 10px;
}

.fullscreen-view .artwork-col .volume {
    margin-top: 500px;
    position: absolute;
}

.fullscreen-view .artwork-col .playback-button--small{
    top: 500px;
}

.fullscreen-view .tab-toggles div {
    width        : 5vh;
    height       : 5vh;
    padding      : 1.6vh;
    //margin-bottom: 100px;
    border-radius: 5px;
    z-index: 30;
}

.fullscreen-view .tab-toggles div:hover {
    //background-color   : var(--selected);
    transition-duration: 0.2s;
}


&.modular-fs {
    #app-sidebar {
        position: fixed;
        top: -100%;
    }
    .app-chrome:not(.chrome-bottom) {
        .app-chrome--left > div:nth-of-type(3) {
            margin-left: 0 !important;
        }
        &::before {
            width: 100%;
        }
    }
    .app-drawer{
        z-index: 15;
    }
    .md-body.lyric-body {
        backdrop-filter: none;
        margin-inline  : 5rem;
        position: relative;
        top: 25rem;

        .lyric-line {
            color          : var(--textColorLight) !important;
            opacity        : 1;
            transform      : none;
            scale          : 1;
            font-size      : 60px;
            text-align     : center;
            align-items    : center;
            justify-content: center;
        }
    }

    .lyric-footer {
        background-color: transparent !important;
        padding-bottom  : 55px !important;
    }
}


.content-inner{
    .cd-mediaitem-square:not(.mediaitem-card) {
        .artwork-container{
            &:hover {
                .artwork{
                    transition: filter 0.2s var(--appleEase);
                    filter:     brightness(0.8)
                }
            }
            .artwork{
                transition: filter 0.2s var(--appleEase);
                filter:     brightness(1)
            }
        }
    }
}



.fullscreen-view-container {
    .fullscreen-view {
        .fs-header {
            pointer-events: none;
        }

        .top-nav-group {
            pointer-events: all;
            border-radius : 100vmax;
            width         : 80%;
            height        : 45px;

            .app-sidebar-item::before {
                border-radius: 100vmax;
            }

            .app-sidebar-item:last-of-type {
                width: max-content;
            }
        }

        .fs-row {
            width: 100%;
        }

        .playback-info {
            color: var(--textColorLight);

            .song-progress {
                --mediaBarColor         : rgba(255, 255, 255, 0.1);
                --songProgressColor     : #b8b8b8;
                --songProgressBackground: rgba(255, 255, 255, 0.1);
            }
        }

        .artwork-col {
            .mediaitem-artwork {
                border-radius: 1rem;
                box-shadow   : 0px 0px 25px rgba(0, 0, 0, 0.3);
            }

            .controls-parents {
                &:hover {
                    :not(.song-name):not(.song-artist) {
                        opacity   : 1;
                        transition: opacity 0.2s var(--appleEase);
                    }
                    .song-name , .song-artist{
                        opacity: 0;
                        transition: opacity 0.2s var(--appleEase);
                    }

                }

                .song-name {
                    opacity: 1;
                    transition: opacity 0.3s 1s var(--appleEase);
                    font-size    : 14px;
                    font-weight  : bold;
                    color        : var(--textColorLight);
                    margin-bottom: -7px;
                }

                .song-artist {
                    opacity  : 0.8;
                    transition: opacity 0.3s 1s var(--appleEase);
                    font-size: 13px;
                    color    : var(--textColorLight);
                    margin-bottom: -7px;
                }

                .song-progress {
                    input {
                        border-radius: 1rem;
                    }
                }

                .control-buttons div{
                    position: relative;
                    opacity   : 0;
                    transition: opacity 0.3s 1s var(--appleEase);
                    z-index: 30;
                    margin-top: 5px;
                }
            }
        }

        .right-col {
            .queue-col {
                margin-right: 2rem;
                color       : var(--textColorLight);

                .queue-body {

                    .queue-title {
                        font-weight: 400;
                        opacity    : 1;
                    }

                    .queue-subtitle {
                        opacity: 0.8;
                    }
                }

                .queue-footer {
                    display        : flex;
                    flex-direction : column;
                    justify-content: center;
                    align-items    : center;

                    &>button,
                    &>div {
                        max-width: 50rem;
                    }
                }

            }

            .lyricWaiting{
                scale: 1.5;
                margin-left: 5px;
            }
        }

        .tab-toggles{
            position: fixed;
            bottom: unset;
            top   : 52rem;
            right : 47.5rem;
            width: 85rem;
            z-index: 15;

            .lyrics,
            .queue {
                z-index: 30;
                opacity: 0.6;
                
                &:hover{
                    opacity: 0.4;
                }

                &.active {
                    background-color: rgba(0, 0, 0, 1) !important;
                    filter          : invert(1) brightness(1) !important;
                }
            }
        }
    }
}
